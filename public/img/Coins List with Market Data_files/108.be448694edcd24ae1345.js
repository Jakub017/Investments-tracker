!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="96a383f4-2477-4181-a21a-18f5378c59ad",e._sentryDebugIdIdentifier="sentry-dbid-96a383f4-2477-4181-a21a-18f5378c59ad")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.112.0"},(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[108],{93677:(e,t,s)=>{s.d(t,{Z:()=>l});var n=s(82236),r=s(26130),o=s(50063),a=s(52458),c=s(2784),i=s(5089);const l=c.memo((({absoluteDates:e=!1,fnsFormat:t,icon:s,time:l,prefix:u,suffix:d,tag:m="div",tooltip:p=!1,className:f})=>{if(!l)return null;let E,g=new Date(l),D=new Date;e&&(g=new Date(g.toDateString()),D=new Date(D.toDateString()),(0,n.Z)(g)?E="Today":(0,r.Z)(g)&&(E="1 day ago")),E||(E=(0,o.Z)(g,D,{addSuffix:!0})),t&&(E=(0,a.Z)(g,t));const b=c.createElement(m,{className:`DateLine ${f||""}`,suppressHydrationWarning:!0},!!s&&c.createElement("i",{className:s}),u," ",E," ",d);return p?c.createElement(i.ZP,{content:(0,a.Z)(g,e?"PPPP":"PPpp")},b):b}))},80108:(e,t,s)=>{s.d(t,{Z:()=>H});var n=s(85354),r=s(54530),o=s(13980),a=s.n(o),c=s(2784),i=s(10385),l=(s(52277),s(73160),s(47933)),u=s(66891),d=s(72190),m=s(93677),p=s(48830),f=s(18231),E=s(88643),g=function(e){var t=e.answered,s=e.comments,n=e.userVote,r=e.setUserVote,o=e.userId,a=e.discussUrl,i=e.permissions;return c.createElement(p.Z,{align:"stretch",gap:"xs",justify:"start",layout:"col"},c.createElement(p.Z,{gap:"xs"},c.createElement(d.Z,{className:E.Z["DiscussPost-button"],kind:n.hasVoted?"primary":"secondary",onClick:function(e){return e.preventDefault(),(0,f.Zl)({permissions:i,userVote:n,setUserVote:r,userId:o,discussUrl:a})},outline:!0,size:"md"},c.createElement("i",{className:"".concat(E.Z["DiscussPost-button_icon"]," icon-thumbs-up-2")})," ",n.voteCount||0),c.createElement(d.Z,{className:E.Z["DiscussPost-button"],kind:"secondary",outline:!0,size:"md"},c.createElement("i",{className:"".concat(E.Z["DiscussPost-button_icon"]," icon-discussions")})," ",(null==s?void 0:s.length)||0)),!!t&&c.createElement("div",{className:E.Z["DiscussPost-metabox_answered"]},c.createElement("span",{className:"".concat(E.Z.DiscussPost_icon," icon-check-circle")}),"ANSWERED"))},D=function(e){var t;return c.createElement(c.Fragment,null,null===(t=e.tags)||void 0===t?void 0:t.map((function(e,t){return c.createElement("span",{key:"tag-".concat(e,"-").concat(t),className:E.Z.DiscussPostActions_wrapper},c.createElement(d.Z,{className:E.Z.DiscussPostActions_button,kind:"secondary",outline:!0,size:"sm",to:"/discuss?tag=".concat(e)},e))})))},b=function(e){return c.createElement(c.Fragment,null,c.createElement("div",{className:E.Z["DiscussPost-abbrbody"]},e.body),c.createElement("div",{className:E.Z.DiscussPostActions},c.createElement(D,{tags:e.tags})))},Z=function(e){var t=e.postUser.name,s=e.createdAt;return c.createElement(m.Z,{className:E.Z["DiscussPost-date"],prefix:"Posted by ".concat(t),time:s})},y=function(e){var t=e.baseUrl,s=e.post,n=e.userVote,r=e.setUserVote,o=s.effective_user,a=s.body,d=s.title,m=s.id,p=s.tags,f=s.solved,D=s.comments,y=s.createdAt,v=u.Z.isClient,P=(0,c.useContext)(i.St),U=P.permissions,N=P._id,A="".concat(v?window.location.pathname:"".concat(t,"/discuss/").concat(s.id));return c.createElement(l.rU,{className:"".concat(E.Z.DiscussPost," ").concat(E.Z["DiscussPost-abbreviated"]),to:"/discuss/".concat(m)},c.createElement(g,{answered:f,comments:D,userVote:n,setUserVote:r,userId:N,discussUrl:A,permissions:U}),c.createElement("div",{className:E.Z["DiscussPost-content"]},c.createElement("h2",{className:E.Z["DiscussPost-title"]},d),c.createElement(b,{body:a,tags:p}),!!y&&c.createElement(Z,{postUser:o,createdAt:y})))};y.propTypes={baseUrl:a().string,post:a().object,setUserVote:a().func,userVote:a().shape({hasVoted:a().bool,voteCount:a().number,voters:a().array})},g.propTypes={answered:a().bool,comments:a().array,discussUrl:a().string,permissions:a().array,setUserVote:a().func,userId:a().oneOfType([a().string,a().object]),userVote:a().shape({hasVoted:a().bool,voteCount:a().number})},b.propTypes={body:a().string,tags:a().array},Z.propTypes={createdAt:a().string,postUser:a().shape({name:a().string})},D.propTypes={tags:a().array};const v=y;s(74476),s(84879),s(10746),s(81541),s(66496);var P=s(51119),U=(s(65389),s(842),s(7267)),N=s(94270),A=s(22650),h=s(42126),_=s(53452),k=s(90727),C=s(2233),V=s(24508),w=s(39154),I=s(96006),O=s(29114);function S(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function x(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?S(Object(s),!0).forEach((function(t){(0,P.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var M=function(e){var t=e.userVote,s=e.setUserVote,n=e.discussUrl,r=e.permissions,o=e.setErrorMessage,a=e.userId;return c.createElement(p.Z,{className:E.Z["DiscussPost-metabox"],gap:"xs",layout:"col"},c.createElement(d.Z,{className:E.Z["DiscussPost-button"],kind:t.hasVoted?"primary":"secondary",onClick:function(e){return e.preventDefault(),(0,f.Zl)({permissions:r,setErrorMessage:o,userVote:t,setUserVote:s,userId:a,discussUrl:n})},outline:!0,size:"md"},c.createElement("span",{className:"".concat(E.Z["DiscussPost-button_icon"]," icon-thumbs-up-2")})," ",t.voteCount||0))},T=function(e){var t=e.isAdminUser,s=e.isLoggedIn,n=e.postUser,r=n.name,o=n.email,a=e.post.edited,i=e.createdAt,l=function(){return c.createElement(m.Z,{className:E.Z["DiscussPost-date"],icon:"icon-clock",suffix:"by ".concat(r),tag:"span",time:i})},u=function(){return c.createElement("span",{className:E.Z["DiscussPost-email"]},c.createElement("span",{className:"".concat(E.Z.icon," icon-lock1")}),c.createElement("span",null,o))};return c.createElement("div",{className:E.Z["DiscussPost-details"]},c.createElement(l,null),!!s&&!!t&&!!o&&c.createElement(u,null),!!a&&c.createElement("span",{className:E.Z["DiscussPost-edited"]},"(edited)"))},j=function(e){var t,s=e.discussUrl,r=e.isAdminUser,o=e.post,a=e.postData,i=e.setErrorMessage,l=e.setPostData,u=e.setIsEditing,m=e.userId,p=m&&m===(null===(t=o.hub2user)||void 0===t?void 0:t._id),g=(0,U.k6)(),D=(0,c.useRef)(),b=function(){return c.createElement(d.Z,{className:E.Z["DiscussPostActions-action"],kind:"secondary",onClick:function(){return(0,f.CB)({discussUrl:s,postData:a,setErrorMessage:i,setPostData:l})},outline:!0,size:"sm"},c.createElement("i",{className:"".concat(E.Z.DiscussPost_icon," ").concat(a.isFAQ?"icon-cross":"icon-plus1")}),a.isFAQ?"Remove from FAQ":"Add to FAQ")},Z=function(){return c.createElement(d.Z,{className:E.Z["DiscussPostActions-action"],kind:"secondary",onClick:function(){return u(!0)},outline:!0,size:"sm"},c.createElement("i",{className:"".concat(E.Z.DiscussPost_icon," icon-edit-2")}),"Edit")},y=function(){return c.createElement(d.Z,{className:E.Z["DiscussPostActions-action"],kind:"secondary",onClick:function(){D.current.toggle(!0)},outline:!0,size:"sm"},c.createElement("i",{className:"".concat(E.Z.DiscussPost_icon," icon-trash1")}),"Delete")},v=function(){var e=(0,c.useState)(!1),t=(0,n.Z)(e,2),r=t[0],o=t[1];return c.createElement(k.ZP,{ref:D,size:"sm",target:"#delete-discussion-post-modal-target",verticalCenter:!0},c.createElement(k.fe,null,c.createElement(w.Z,{className:E.Z["DiscussPost-delete_text"],level:6},"Are you sure you want to delete this post?")),c.createElement(k.mz,{justify:"center"},c.createElement(d.Z,{kind:"secondary",onClick:function(){D.current.toggle(!1)}},"Cancel"),c.createElement(d.Z,{kind:"secondary",onClick:function(){(0,f.fn)({url:s,redirect:function(){return g.push("/discuss")},setErrorMessage:i,markAsSpam:r}),D.current.toggle(!1)}},"Delete")),c.createElement(k.mz,{justify:"center"},c.createElement(I.Z,{checked:r,label:"Mark this post as spam",onChange:function(){return o(!r)},type:"checkbox"})))};return c.createElement("div",null,c.createElement(V.Z,{className:E.Z["DiscussPost-fullbody"],opts:O.o},a.body),c.createElement("div",{className:E.Z.DiscussPostActions},c.createElement(z,{discussUrl:s,postData:a,setPostData:l,isAdminUser:r,setErrorMessage:i}),!!r&&c.createElement(b,null),!(!r&&!p)&&c.createElement(Z,null),!(!r&&!p)&&c.createElement(c.Fragment,null,c.createElement(y,null),c.createElement(v,null))))},F=function(e){var t=e.discussUrl,s=e.setPostData,r=e.setIsEditing,o=e.setErrorMessage,a=e.postData.body,l=(0,c.useContext)(i.cr),u=(0,c.useContext)(i.E_).domainFull,m=(0,c.useState)(),p=(0,n.Z)(m,2),g=p[0],D=p[1],b=(0,c.useCallback)((function(e){return D(e)}),[]),Z=(0,c.useCallback)((function(e,t){return D(t)}),[]);return c.createElement(c.Fragment,null,c.createElement(A.Z,{className:E.Z.DiscussEditorWrapper,kind:"rule"},c.createElement(_.Z,{basic:!0,className:E.Z["DiscussPost-fullbody"],doc:a,domainFull:u,imageUpload:!1,onChange:Z,onInit:b,projectBaseUrl:l})),c.createElement("div",{className:E.Z["DiscussPost-edit"]},c.createElement(d.Z,{className:"".concat(E.Z["Discuss-question_button"]," ").concat(E.Z["DiscussPost-edit_button"]),onClick:function(){var e=(null==g?void 0:g.toString())||"";return(0,f.He)({url:t,editedBody:e,setErrorMessage:o,updateSuccess:function(){s((function(t){return x(x({},t),{},{body:e})})),r(!1)}})},size:"sm"},"Save"),c.createElement(d.Z,{kind:"secondary",onClick:function(){return r(!1)},outline:!0,size:"sm"},"Cancel")))},z=function(e){var t,s=e.discussUrl,r=e.postData,o=e.setPostData,a=e.isAdminUser,i=e.setErrorMessage,l=(0,c.useState)(""),u=(0,n.Z)(l,2),m=u[0],p=u[1],g=(0,c.useState)(!1),D=(0,n.Z)(g,2),b=D[0],Z=D[1],y=function(){return c.createElement(d.Z,{className:E.Z["DiscussPostActions-action"],kind:"secondary",onClick:function(){return Z(!0)},outline:!0,size:"sm"},c.createElement("i",{className:"".concat(E.Z.DiscussPost_icon," icon-plus1")}),"Tag")};return c.createElement(c.Fragment,null,null===(t=r.tags)||void 0===t?void 0:t.map((function(e,t){return c.createElement("span",{key:"tag-".concat(e,"-").concat(t),className:E.Z.DiscussPostActions_wrapper},!!a&&c.createElement("span",{className:"".concat(E.Z.DiscussPostActions_delete," icon-cross"),onClick:function(){return(0,f.DI)({tag:e,discussUrl:s,setErrorMessage:i,setPostData:o,postData:r})},onKeyDown:function(t){return(0,f.DI)({e:t,tag:e,discussUrl:s,setErrorMessage:i,setPostData:o,postData:r})},role:"button",tabIndex:0}),c.createElement(d.Z,{className:E.Z.DiscussPostActions_button,kind:"secondary",outline:!0,size:"sm",to:"/discuss?tag=".concat(e)},e))})),!!a&&(b?c.createElement(h.Z,{autoFocus:!0,className:E.Z.DiscussPostActions_button,onBlur:function(){return Z(!1)},onChange:function(e){return p(e.target.value)},onKeyUp:function(e){return(0,f.u7)({e,discussUrl:s,newTag:m,setNewTag:p,setErrorMessage:i,setIsAddingTag:Z,setPostData:o,postData:r})},placeholder:"Enter Tag",value:m}):c.createElement(y,null)))},L=function(e){var t=e.baseUrl,s=e.post,r=e.userVote,o=e.setUserVote,a=s.effective_user,l=s.body,d=s.title,m=s.id,p=s.tags,f=s.isFAQ,g=s.createdAt,D=u.Z.isClient,b=(0,c.useContext)(i.St),Z=b.permissions,y=b._id,v=(0,N.Z)(),P=v.isLoggedIn,U=v.isAdminUser,A=(0,c.useState)({body:l,isFAQ:f,tags:p}),h=(0,n.Z)(A,2),_=h[0],k=h[1],V=(0,c.useState)(!1),w=(0,n.Z)(V,2),I=w[0],O=w[1],S=(0,c.useState)(null),x=(0,n.Z)(S,2),z=x[0],L=x[1];(0,c.useEffect)((function(){var e,t,s=(null==z||null===(e=z.errors)||void 0===e||null===(t=e.title)||void 0===t?void 0:t.message)||(null==z?void 0:z.message);return s?(0,C.h4)(c.createElement(C.lt,null,s)):void 0}),[z]);var Q="".concat(D?window.location.pathname:"".concat(t,"/discuss/").concat(m));return c.createElement("div",{className:E.Z.DiscussPost},c.createElement(M,{userVote:r,setUserVote:o,discussUrl:Q,permissions:Z,setErrorMessage:L,userId:y}),c.createElement("div",{className:E.Z["DiscussPost-content"]},c.createElement("h2",{className:E.Z["DiscussPost-title"]},d),!!g&&c.createElement(T,{isAdminUser:U,isLoggedIn:P,postUser:a,post:s,createdAt:g}),I?c.createElement(F,{discussUrl:Q,setPostData:k,setIsEditing:O,postData:_,setErrorMessage:L}):c.createElement(j,{discussUrl:Q,isAdminUser:U,post:s,postData:_,setPostData:k,setIsEditing:O,userId:y,setErrorMessage:L})),c.createElement("div",{className:"ModalWrapper",id:"delete-discussion-post-modal-target"}))};L.propTypes={baseUrl:a().string,post:a().object,setUserVote:a().func,userVote:a().shape({hasVoted:a().bool,voteCount:a().number,voters:a().array})},M.propTypes={discussUrl:a().string,permissions:a().array,setErrorMessage:a().func,setUserVote:a().func,userId:a().oneOfType([a().string,a().object]),userVote:a().shape({hasVoted:a().bool,voteCount:a().number,voters:a().array})},j.propTypes={discussUrl:a().string,isAdminUser:a().bool,post:a().object,postData:a().shape({body:a().string,isFAQ:a().bool}),setErrorMessage:a().func,setIsEditing:a().func,setPostData:a().func,userId:a().string},F.propTypes={discussUrl:a().string,postData:a().shape({body:a().string}),setErrorMessage:a().func,setIsEditing:a().func,setPostData:a().func},T.propTypes={createdAt:a().oneOfType([a().string,a().instanceOf(Date)]),isAdminUser:a().bool,isLoggedIn:a().bool,post:a().shape({edited:a().bool}),postUser:a().shape({email:a().string,name:a().string})},z.propTypes={discussUrl:a().string,isAdminUser:a().bool,postData:a().shape({tags:a().array}),setErrorMessage:a().func,setPostData:a().func};const Q=L;var B=["hub2voters"],R=function(e){var t=e.post,s=e.excerpt,o=t.hub2voters,a=(0,r.Z)(t,B),l=(0,c.useContext)(i.St)._id,u=(0,c.useContext)(i.cr);u="/"===u?"":u;var d=(0,c.useState)({voteCount:null==a?void 0:a.vote_count,hasVoted:-1!==o.indexOf(l),voters:o}),m=(0,n.Z)(d,2),p=m[0],f=m[1];return s?c.createElement(v,{baseUrl:u,post:t,userVote:p,setUserVote:f}):c.createElement(Q,{baseUrl:u,post:t,userVote:p,setUserVote:f})};R.propTypes={excerpt:a().bool,post:a().object},R.defaultProps={excerpt:!1};const H=R},29114:(e,t,s)=>{s.d(t,{o:()=>n});var n={safeMode:!0}}}]);
//# sourceMappingURL=108.be448694edcd24ae1345.js.map